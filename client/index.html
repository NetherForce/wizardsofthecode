<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="main.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/socket_io/socket.io.js"></script>
    <script src="localData.js"></script>
</head>

<body>
    <div id="Page1">
        <div id="Header">

            <div id="Menu">
                <img class="Logo" src="logo.png" />

                <b style="font-family:Helvetica">
                    URL Monitor
                </b>

                <a class="hp">
                    Home Page
                </a>

                <a onclick="PageSwap('Page1','Page2')">
                    Logs
                </a>

                <button class="button2" onclick="LoginSwap1()">
                    Login
                </button>

                <a>
                    <img src="pfp.jpg" class="profilePic" style="width:42px;height:42px;">
                </a>
            </div>
        </div>

        <div id="Info">
            <p>URL Monitor is a service delivered by Wizards of the Code for tracking your online services' 
availability at every moment.</p>    
        </div>
    </div>

    <div id="Page2" style="display: none;">

        <div id="Header">

            <div id="Menu">
                <img class="Logo" src="logo.png" />

                <b style="font-family:Helvetica">
                    URL Monitor
                </b>

                <a onclick="PageSwap('Page1','Page2')">
                    Home Page
                </a>

                <a class="hp">
                    Logs
                </a>

                <button class="button2" onclick="LoginSwap2()">
                    Login
                </button>

                <a>
                    <img src="pfp.jpg" class="profilePic" style="width:42px;height:42px;">
                </a>
            </div>
        </div>

        <body>
            <div id="buttons">
                <button class="button1">
                    Add
                </button>

                <button class="button2" onclick="toggleFilterMenu()">
                    Filter
                </button>
            </div>
            <div id="filterMenu" style="display: none">
                <p>wkffw</p>
            </div>
            <div id="logListWrapper">
                <ul id="logListUl">
                </ul>
            </div>
    </div>

    <div id="LoginPage" style="display: none;">
        <div class="navbar">
            <a onclick="LoginSwap3()">
                <image id="img" src="logo.png"></image>
            </a>
            <h1>Login/Registration</h1>
        </div>
        <div class="menu" id="login">
            <ul>
                <li>
                    <input id="usernameInput1" type="text" placeholder="Enter Username/Email" required>
                </li>
                <li>
                    <input id="passwordInput1" type="password" placeholder="Enter Password" required>
                </li>
                <li>
                    <button type="submit" onclick="login()">Login</button>
                </li>
                <li>
                    <button type="button" class="cancel" onclick="toggleMenus()">Register</button>
                </li>
            </ul>
        </div>
        <div class="menu" id="register" style="display: none">
            <ul>
                <li>
                    <input id="usernameInput2" type="text" placeholder="Enter Username" required>
                </li>
                <li>
                    <input id="emailInput" type="text" placeholder="Email" required>
                </li>
                <li>
                    <input id="passwordInput2" type="password" placeholder="Enter Password" required>
                </li>
                <li>
                    <button type="submit" onclick="clickedRegisterButton()">Register</button>
                </li>
                <li>
                    <button type="button" class="cancel" onclick="toggleMenus()">Login</button>
                </li>
            </ul>
        </div>
        <script>
            function toggleMenus() {
                if (document.getElementById('register').style.display === 'none') {
                    document.getElementById('register').style.display = 'block';
                    document.getElementById('login').style.display = 'none';
                } else {
                    document.getElementById('register').style.display = 'none';
                    document.getElementById('login').style.display = 'block';
                }
            }
        </script>
    </div>
    <script>
        function PageSwap(a, b) {
            //uncomment after testing
//            if ((a == 'Page2' || b == 'Page2') && user == null) {
//                if (a == 'Page2') {
//                    PageSwap(b, 'LoginPage');
//                } else {
//                    PageSwap(a, 'LoginPage');
//                }
//            } else if (document.getElementById(a).style.display == "none") {
//                    document.getElementById(a).style.display = "block";
//                    document.getElementById(b).style.display = "none";
//            } else {
//                document.getElementById(a).style.display = "none";
//                document.getElementById(b).style.display = "block";
//            }
            if (document.getElementById(a).style.display == "none") {
                    document.getElementById(a).style.display = "block";
                    document.getElementById(b).style.display = "none";
                } else {
                    document.getElementById(a).style.display = "none";
                    document.getElementById(b).style.display = "block";
                }
            }
        function LoginSwap1() {
            document.getElementById("Page1").style.display = "none";
            document.getElementById("LoginPage").style.display = "block";
        }
        function LoginSwap2() {
            document.getElementById("Page2").style.display = "none";
            document.getElementById("LoginPage").style.display = "block";
        }
        function LoginSwap3() {
            document.getElementById("Page1").style.display = "block";
            document.getElementById("LoginPage").style.display = "none";
        }
        function toggleFilterMenu() {
            if (document.getElementById("filterMenu").style.display == "none") {
                document.getElementById("filterMenu").style.display = "block";
            } else {
                document.getElementById("filterMenu").style.display = "none";
            }
        }
        function clickedLoginButton() {
            let username = document.getElementById('usernameInput1').value;
            let password = document.getElementById('passwordInput1').value;
            login(username, password);
        }
        function clickedRegisterButton() {
            let username = document.getElementById('usernameInput2').value;
            let email = document.getElementById('emailInput1').value;
            let password = document.getElementById('passwordInput2').value;
            register(username, email, password);
        }
    </script>
</body>

</html>